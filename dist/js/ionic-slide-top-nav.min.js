!function(){"use strict";angular.module("nx.widget",["ionic"])}(),function(){"use strict";var e=angular.module("nx.widget").directive("nxIonicSlideTopNav",["$timeout","$compile","$interval","$ionicSlideBoxDelegate","$ionicScrollDelegate","$ionicGesture",function(e,a,l,n,t,i){return{require:"^ionSlideBox",restrict:"A",link:function(l,i,r,o){var s,d,c,u,f,b,g,v={slideTabsScrollable:!0},h=function(){angular.isDefined(r.slideTabsScrollable)&&"false"===r.slideTabsScrollable&&(v.slideTabsScrollable=!1);var e='<li ng-repeat="(key, value) in tabs" ng-click="onTabTabbed($event, key)" class="slider-slide-tab" ng-bind-html="value"></li>';v.slideTabsScrollable?(c="ion-slide-tabs-handle-"+Math.floor(1e4*Math.random()+1),g=angular.element('<ion-scroll delegate-handle="'+c+'" class="slidingTabs" direction="x" scrollbar-x="false"><ul>'+e+'</ul> <div class="tab-indicator-wrapper"><div class="tab-indicator"></div></div> </ion-scroll>')):g=angular.element('<div class="slidingTabs"><ul>'+e+'</ul> <div class="tab-indicator-wrapper"><div class="tab-indicator"></div></div> </div>'),b=angular.element(i);var o=a(g);b.parent().prepend(g),o(l),f=angular.element(g[0].querySelector(".tab-indicator"));var u=b.attr("delegate-handle"),h=g.attr("delegate-handle");s=n,u&&(s=s.$getByHandle(u)),v.slideTabsScrollable&&(d=t,h&&(d=d.$getByHandle(h))),p(),T(),m()},p=function(){ionic.onGesture("dragleft",l.onSlideMove,b[0]),ionic.onGesture("dragright",l.onSlideMove,b[0]),ionic.onGesture("release",l.onSlideChange,b[0])},T=function(){if(!angular.isDefined(u)||0==u.length)return!1;var e=g.find("ul"),a=0;angular.forEach(u,function(e){var l=angular.element(e);a+=l[0].offsetWidth}),v.slideTabsScrollable?angular.element(g[0].querySelector(".scroll")).css("width",a+1+"px"):u.css("width",e[0].offsetWidth/u.length+"px"),m()},m=function(){if(!angular.isDefined(u)||0==u.length)return!1;var e=s.currentIndex(),a=angular.element(u[e]),l=a.prop("offsetLeft");a[0].offsetWidth;if(f.css({"-webkit-transition-duration":"300ms","-webkit-transform":"translate("+l+"px,0px)",width:100/u.length+"%"}),v.slideTabsScrollable&&d){var n=40;d.scrollTo(l-n,0,!0)}u.removeClass("tab-active"),a.addClass("tab-active")},S=function(e,a,l,n){var t=angular.element(u[a]),i=angular.element(u[e]),r=t.prop("offsetLeft"),o=i.prop("offsetLeft"),c=Math.abs(r-o);if(!(0==e&&a==s.slidesCount()-1&&"right"==n||0==a&&e==s.slidesCount()-1&&"left"==n)){var b=t[0].offsetWidth,g=i[0].offsetWidth,h=b-g,p=0,T=0;if(e>a?(p=r-c*(l-1),T=b-h*(1-l)):a>e&&(p=r+c*(l-1),T=b+h*(l-1)),f.css({"-webkit-transition-duration":"0ms","-webkit-transform":"translate("+p+"px,0px)",width:T+"px"}),v.slideTabsScrollable&&d){var m=40;d.scrollTo(p-m,0,!1)}}};l.onTabTabbed=function(e,a){s.slide(a),m()},l.tabs=[],l.addTabContent=function(a){l.tabs.push(a),l.$apply(),e(function(){u=angular.element(g[0].querySelector("ul").querySelectorAll(".slider-slide-tab")),m(),T()})},l.onSlideChange=function(e){m()},l.onSlideMove=function(){var e=b[0].getElementsByClassName("slider-slide"),a=s.currentIndex(),l=angular.element(e[a]),n=l.css("-webkit-transform").replace(/[^0-9\-.,]/g,"").split(",")[0],t=(a+1)%e.length;n>b.prop("offsetLeft")&&(t=a-1,t<0&&(t=e.length-1));var i=n/b[0].offsetWidth,r=i>0?"right":"left";i=Math.abs(i),S(a,t,i,r)},h()},controller:["$scope",function(a){this.addTab=function(l){e(function(){a.addTabContent&&a.addTabContent(l)})}}]}}]);e.directive("nxIonicSlideTabLabel",[function(){return{require:"^nxIonicSlideTopNav",link:function(e,a,l,n){n.addTab(l.nxIonicSlideTabLabel)}}}])}();